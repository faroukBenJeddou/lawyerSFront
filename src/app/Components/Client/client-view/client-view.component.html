<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Sidebar Example</title>
  <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/css/bootstrap.min.css" rel="stylesheet">



</head>
<body>
  <div class="sidebar px-4 py-4 py-md-5 me-0">
    <div class="d-flex flex-column h-100">
      <a class="mb-0 brand-icon">
      <span class="logo-icon">
      <img src="../../../../assets/lawyersoft-high-resolution-logo-transparent.png" style="width: 200px; height:150px; " />

  </span>


      </a>

      <ul class="menu-list flex-grow-1 mt-3">
        <li>
          <a class="m-link" data-bs-toggle="collapse" data-bs-target="#dashboard-Components" href="javascript:void(0);">
            <mat-icon>person</mat-icon> <span>Profile</span>
            <span class="arrow icofont-dotted-down ms-auto text-end fs-5"></span>
          </a>
        </li>

        <li>
          <a class="m-link" [routerLink]="['/client', ClientId, 'consultations']">
            <mat-icon>event_note</mat-icon> <span>Consultations</span>
          </a>
        </li>

        <li>
          <a class="m-link" [routerLink]="['/client', ClientId, 'case']">
            <mat-icon>gavel</mat-icon> <span>Case</span>
            <span class="arrow icofont-dotted-down ms-auto text-end fs-5"></span>
          </a>
        </li>

        <li>
          <a class="m-link" [routerLink]="['/client', ClientId, 'lawyer']">
            <mat-icon>people</mat-icon> <span>Lawyers</span>
            <span class="arrow icofont-dotted-down ms-auto text-end fs-5"></span>
          </a>
        </li>
      </ul>

      <button (click)="onLogout()" class="btn btn-danger">
        Logout <span class="ms-2"><mat-icon>exit_to_app</mat-icon></span>
      </button>
    </div>
  </div>
<!-- Add this button where you want in your HTML -->

<script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/js/bootstrap.bundle.min.js"></script>
<link href="https://maxcdn.bootstrapcdn.com/font-awesome/4.3.0/css/font-awesome.min.css" rel="stylesheet">
<div class="container bootstrap snippets bootdey">
  <div class="row">
    <div class="profile-nav col-md-3">
      <div class="panel">
        <div class="card mb-4 mb-xl-0">
          <div class="card-header">Profile Picture</div>
          <div class="card-body text-center">
            <div class="profile-picture-container">
              <img *ngIf="imageUrl" [src]="imageUrl" alt="Profile Picture" class="img-account-profile">
            </div>
            <div class="small font-italic text-muted mb-4">JPG or PNG no larger than 5 MB</div>
            <input type="file" class="form-control" (change)="onFileSelected($event)" formControlName="image">
            <button class="btn btn-primary" (click)="uploadProfilePic()">Upload</button>
          </div>
        </div>


        <ul class="nav nav-pills nav-stacked">
          <li><button style="font-size:15px" > <i class="fa fa-edit" style="font-size:20px" (click)="openModal()"  ></i > Edit profile</button></li>
        </ul>
      </div>
    </div>
    <div class="profile-info col-md-9">
      <div class="panel">

        <div class="panel-body bio-graph-info">
          <h1>Info</h1>
          <div class="row">
            <div class="bio-row">
              <p style="font-size:17px;"><span>First Name </span>: {{client?.firstName}}</p>
            </div>
            <div class="bio-row">
              <p style="font-size:17px;"><span>Last Name </span>: {{client?.familyName}}</p>
            </div>
            <div class="bio-row">
              <p style="font-size:17px;"><span>Adress </span>: {{client?.adress}}</p>
            </div>
            <div class="bio-row">
              <p style="font-size:17px;"><span >Birthday</span>: {{client?.birthdate}}</p>
            </div>
            <div class="bio-row">
              <p style="font-size:17px;"><span >Gender </span>: {{client?.gender}}</p>
            </div>
            <div class="bio-row">
              <p  style="font-size:17px;"><span>Email </span>: {{client?.email}}</p>
            </div>
            <div class="bio-row">
              <p style="font-size:17px;"><span >Mobile </span>: {{client?.phoneNumber}}</p>
            </div>
          </div>
        </div>
      </div>
      <div>
        <div class="row">
          <div class="col-md-6">
            <div class="panel">
              <div class="panel-body">
                <div class="bio-chart">
                  <div style="position: relative; width: 100px; height: 100px;">
                    <h1 style="color: #e06b7d; font-weight: bold; font-size: 20px; font-family: Arial; text-align: center; margin: 0; position: absolute; top: 33px; left: 160px; width: 54px; height: 33px; display: flex; align-items: center; justify-content: center;">Cases</h1>
                  </div>
                </div>
                <div class="bio-desk" *ngFor="let case of cases">
                  <p><mat-icon>folder</mat-icon> Type: {{case.caseType}}</p>
                  <p><mat-icon>flag</mat-icon> Current Status: {{case.caseStatus}}</p>
                  <p><mat-icon>calendar_today</mat-icon> Creation Date: {{case.start}}</p>
                  <button class="button-54" role="button" [routerLink]="['/client', ClientId, 'case']">
                    <mat-icon>description</mat-icon> Case Details
                  </button>
                </div>
              </div>
            </div>
          </div>
<!--          <div class="col-md-6">-->
<!--            <div class="panel">-->
<!--              <div class="panel-body" *ngFor="let case of cases">-->
<!--                <div style="position: relative; width: 100px; height: 100px;">-->
<!--                  <h1 style="color: #296fbb; font-weight: bold; font-size: 20px; font-family: Arial; text-align: center; margin: 0; position: absolute; top: 33px; left: 160px; width: 54px; height: 33px; display: flex; align-items: center; justify-content: center;">-->
<!--                    <mat-icon style="font-size: 30px; margin-right: 5px;">receipt</mat-icon> Invoice-->
<!--                  </h1>-->
<!--                </div>-->
<!--                <div class="bio-desk">-->
<!--                  <p><mat-icon>event</mat-icon> Invoice Date: {{case.invoice.date}}</p>-->
<!--                  <p><mat-icon>description</mat-icon> Details: {{case.invoice.details}}</p>-->
<!--                  <p><mat-icon>attach_money</mat-icon> Price: {{case.invoice.price}} DT</p>-->
<!--                  <button class="button-54" role="button">-->
<!--                    <mat-icon>visibility</mat-icon> Invoice Details-->
<!--                  </button>-->
<!--                </div>-->
<!--              </div>-->

<!--            </div>-->
<!--          </div>-->
          <div class="col-md-6">
            <div class="panel">
              <div class="panel-body">
                <div class="bio-chart">
                  <div style="position: relative; width: 100px; height: 100px;">
                    <h1 style="color: #709085; font-weight: bold; font-size: 20px; font-family: Arial; text-align: center; margin: 0; position: absolute; top: 33px; left: 160px; width: 54px; height: 33px; display: flex; align-items: center; justify-content: center;">
                      <mat-icon style="font-size: 30px; margin-right: 5px;">event</mat-icon> Upcoming Consultation
                    </h1>
                  </div>
                </div>
                <div class="bio-desk">
                  <p class="notification-details">
                    <mat-icon>today</mat-icon> Day: {{ nearestConsultation?.start | date:'fullDate' }}<br>
                    <mat-icon>schedule</mat-icon> Time: {{ nearestConsultation?.start | date:'shortTime' }}
                  </p>
                  <p>
                    <mat-icon>topic</mat-icon> Topic: {{nearestConsultation?.title}}
                  </p>
                  <button class="button-54" role="button" [routerLink]="['/client', ClientId, 'consultations']">
                    <mat-icon>gavel</mat-icon> Consultations Details
                  </button>
                </div>
              </div>

            </div>
          </div>

        </div>
      </div>
    </div>
  </div>
</div>
  <!-- Modal Template -->


  <div class="modal fade" id="myModal" tabindex="-1" role="dialog" aria-labelledby="exampleModalLabel" aria-hidden="true" [ngClass]="{'show': isModalOpen}" [ngStyle]="{'display': isModalOpen ? 'block' : 'none'}">
  <div class="modal-dialog" role="document">
    <div class="modal-content">
      <!-- Modal Header -->
      <div class="modal-header">
        <h4 class="modal-title" id="exampleModalLabel">Edit Profile</h4>
        <button type="button" class="btn-close" (click)="closeModal()" aria-label="Close"></button>
      </div>
      <!-- Modal Body -->
      <div class="modal-body">
        <form [formGroup]="clientForm" (ngSubmit)="updateProfile()">
          <div class="mb-3">
            <label for="firstName" class="form-label">First Name</label>
            <input type="text" class="form-control" id="firstName" formControlName="firstName" required placeholder="{{client?.firstName}}">
          </div>
          <div class="mb-3">
            <label for="familyName" class="form-label">Family Name</label>
            <input type="text" class="form-control" id="familyName" formControlName="familyName" placeholder="{{client?.familyName}}" >
          </div>
          <div class="mb-3">
            <label for="phoneNumber" class="form-label">Phone Number</label>
            <input type="tel" class="form-control" id="phoneNumber" formControlName="phoneNumber" placeholder="{{client?.phoneNumber}}" >
          </div>
          <div class="mb-3">
            <label for="birthdate" class="form-label">Birthdate</label>
            <input type="date" class="form-control" id="birthdate" formControlName="birthdate" placeholder="{{client?.birthdate}}" >
          </div>

          <div class="mb-3">
            <label for="adress" class="form-label">Address</label>
            <input type="text" class="form-control" id="adress" formControlName="adress" placeholder="{{client?.adress}}" >
          </div>
          <div class="mb-3">
            <label for="email" class="form-label">Email</label>
            <input type="email" class="form-control" id="email" formControlName="email" placeholder="{{client?.email}}" >
          </div>
          <button type="submit" class="btn btn-primary">Save</button>
        </form>
      </div>
      <!-- Modal Footer -->
      <div class="modal-footer">
        <button type="button" class="btn btn-secondary" >Close</button>
      </div>
    </div>
  </div>
</div>
</body>

</html>
